///
/// Custom Responsive Styles for Dr. Gkolezakis Website
/// Mobile-first responsive design for new sections
///

/* Custom Features Grid - για statistics και contact sections */
.features {
	$padding: _size(padding, default);
	
	@include fixed-grid((
		columns: 3,
		gutters: ($padding * 0.5)
	));
	margin: 0 0 _size(element-margin) 0;

	> section {
		background-color: _palette(bg);
		margin: 0 0 ($padding * 0.5) 0;
		text-align: center;
		@include padding(2rem, 1.5rem);
		border-radius: _size(border-radius);
		box-shadow: 0 0.125rem 0.5rem 0 rgba(0,0,0,0.1);
		height: 100%;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center; // Καλύτερη κεντρική στοίχιση
		min-height: 12rem;

		.icon {
			&.major {
				font-size: 2.5rem;
				margin: 0 0 1rem 0;
				display: block;
				color: _palette(accent1, bg);
			}
		}

		h3 {
			margin: 0 0 1rem 0;
			font-size: 1.25rem;
		}

		p {
			margin: 0;
			font-size: 0.9rem;
			line-height: 1.6;
		}
	}

	@include breakpoint('<=large') {
		$padding: _size(padding, large);

		@include fixed-grid((
			columns: 3,
			gutters: ($padding * 0.5),
			prev-columns: 3
		));

		> section {
			margin: 0 0 ($padding * 0.5) 0;
			@include padding(1.5rem, 1.25rem);
		}
	}

	@include breakpoint('<=medium') {
		$padding: _size(padding, medium);

		@include fixed-grid((
			columns: 2,
			gutters: ($padding * 0.5),
			prev-columns: 3
		));

		> section {
			margin: 0 0 ($padding * 0.5) 0;
			@include padding(1.5rem, 1rem);

			.icon.major {
				font-size: 2rem;
			}

			h3 {
				font-size: 1.125rem;
			}
		}
	}
	@include breakpoint('<=small') {
		$padding: _size(padding, small);

		@include fixed-grid((
			columns: 1,
			gutters: ($padding * 0.5),
			prev-columns: 2
		));

		> section {
			margin: 0.5rem auto ($padding * 0.75) auto;
			max-width: 20rem;
			@include padding(1.25rem, 1rem);
			min-height: 10rem;

			.icon.major {
				font-size: 1.75rem;
				margin-bottom: 0.75rem;
			}

			h3 {
				font-size: 1rem;
				margin-bottom: 0.5rem;
			}

			p {
				font-size: 0.85rem;
			}
		}
	}
	@include breakpoint('<=xsmall') {
		> section {
			max-width: 18rem;
			@include padding(1.25rem, 0.75rem);
			margin-bottom: 1rem;
			width: 100%; // Επιβεβαιώνει ότι τα sections παίρνουν πλήρες πλάτος
		}
	}
}

/* Mobile Icon Improvements */
@include breakpoint('<=small') {
    .features {
        .icon.major {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 0.75rem auto;
            height: 3.5rem; // Σταθερό ύψος για όλα τα εικονίδια
            width: 3.5rem;
            line-height: 3.5rem;
            border-radius: 50%;
            background-color: rgba(_palette(accent1, bg), 0.1);
            color: _palette(accent1, bg);
        }
    }
    
    #statistics {
        .features {
            > section {
                min-height: auto; // Επιτρέπει στα sections να προσαρμόζονται στο περιεχόμενο
                padding: 1.5rem 1rem;
                
                .icon.major {
                    margin-bottom: 0.5rem;
                }
                
                h3 {
                    font-size: 0.9rem;
                    margin-bottom: 0.5rem;
                }
                
                p {
                    font-size: 0.8rem;
                    line-height: 1.5;
                }
            }
        }
    }
}

/* Posts Alt - για testimonials και doctor profile */
.posts.alt {
	$padding: _size(padding, default);

	@include fixed-grid((
		columns: 2,
		gutters: ($padding * 0.5)
	));		> article {
			background-color: _palette(bg); // Keeping background white
			margin: 0 0 ($padding * 1) 0; // Increased bottom margin
			border-radius: _size(border-radius);
			overflow: hidden;
			box-shadow: 0 0.125rem 0.5rem 0 rgba(0,0,0,0.1);

		> .image {
			width: 100%;

			img {
				width: 100%;
				display: block;
			}
		}

		> .content {
			@include padding(1.5rem, 1.25rem); // Reduced right padding for better image fit
			color: _palette(fg); // Ensuring text is black against white background

			h3 {
				margin: 0 0 1rem 0;
				font-size: 1.25rem;
				color: _palette(fg-bold); // Ensuring heading is darker/black
			}

			h4 {
				margin: 0 0 0.75rem 0;
				font-size: 0.9rem;
				color: _palette(accent1, bg); // Keeping accent color for subheadings
				font-weight: _font(weight-bold);
			}

			blockquote {
				font-style: italic;
				margin: 0 0 1rem 0;
				padding: 0;
				border: none;
				background: none;
				font-size: 0.9rem;
				line-height: 1.6;
				color: _palette(fg); // Ensuring blockquote text is visible (black)
			}

			.icons {
				display: flex;
				gap: 0.25rem;
				margin: 1rem 0 0 0;

				.icon {
					color: #ffa500;
					font-size: 1rem;
				}
			}

			ul.alt {
				li {
					padding: 0.25rem 0;
					font-size: 0.9rem;
					
					strong {
						color: _palette(accent1, bg);
						font-weight: _font(weight-bold);
					}
				}
			}
		}
	}

	@include breakpoint('<=large') {
		$padding: _size(padding, large);			@include fixed-grid((
		columns: 2,
		gutters: ($padding * 0.5),
		prev-columns: 2
	));

	> article {
		margin: 0 0 ($padding * 0.8) 0; // Increased space between articles

			> .content {
				@include padding(1.25rem, 1.25rem);
			}
		}
	}

	@include breakpoint('<=medium') {
		$padding: _size(padding, medium);

		@include fixed-grid((
			columns: 1,
			gutters: ($padding * 0.5),
			prev-columns: 2
		));

		> article {
			margin: 0 auto ($padding * 1) auto; // Increased space between articles
			max-width: 32rem;

			> .content {
				@include padding(1.25rem, 0.75rem); // Reduced right padding for better image fit
				color: _palette(fg); // Ensuring text is visible (black) against white background

				h3 {
					font-size: 1.125rem;
					color: _palette(fg-bold); // Making headings darker/black
				}

				h4 {
					color: _palette(accent1, bg); // Keeping accent color for subheadings
				}

				blockquote {
					font-size: 0.875rem;
					color: _palette(fg); // Ensuring blockquote text is visible
				}
				
				.icons {
					.icon {
						color: #ffa500; // Keeping the icon color
					}
				}
			}
		}
	}

	@include breakpoint('<=small') {
		$padding: _size(padding, small);

		@include fixed-grid((
			columns: 1,
			gutters: ($padding * 0.5),
			prev-columns: 1
		));

		> article {
			max-width: 28rem;
			margin-bottom: ($padding * 1.2); // Increased space between articles

			> .content {
				@include padding(1rem, 0.6rem); // Reduced right padding for better image fit
				color: _palette(fg); // Ensuring text is visible (black) against white background

				h3 {
					font-size: 1rem;
					color: _palette(fg-bold); // Making headings darker/black
				}

				h4 {
					font-size: 0.8rem;
					color: _palette(accent1, bg); // Keeping accent color for subheadings
				}

				blockquote {
					font-size: 0.8rem;
					color: _palette(fg); // Ensuring blockquote text is visible
				}

				ul.alt li {
					font-size: 0.8rem;
					color: _palette(fg); // Ensuring list text is visible
					
					strong {
						color: _palette(accent1, bg); // Keeping accent color for strong text
					}
				}
			}
		}
	}

	@include breakpoint('<=xsmall') {
		> article {
			max-width: 24rem;
			margin-bottom: 1.5rem; // Increased space between articles at xsmall size

			> .content {
				@include padding(0.875rem, 0.5rem); // Reduced right padding for better image fit
				color: _palette(fg); // Ensuring text is visible (black) against white background
				
				// Ensuring good spacing between content elements
				h3, h4, blockquote, ul.alt {
					margin-bottom: 0.75rem;
				}
			}
		}
	}
}

/* Features and Posts spacing */
.features + .posts.alt {
	margin-top: 3rem;
}

@include breakpoint('<=medium') {
	.features + .posts.alt {
		margin-top: 2rem;
	}
}

@include breakpoint('<=small') {
	.features + .posts.alt {
		margin-top: 1.5rem;
	}
}

/* Spotlight responsive improvements για tabs */
.spotlight {
	@include breakpoint('<=medium') {
		> ul {
			li {
				h4 {
					font-size: 1rem;
				}

				p {
					font-size: 0.875rem;
					line-height: 1.6;
				}
			}
		}

		> .image {
			margin: 1.5rem 0;
			text-align: center;

			img {
				max-width: 100%;
				height: auto;
				border-radius: _size(border-radius);
			}
		}
	}

	@include breakpoint('<=small') {
		> ul {
			li {
				h4 {
					font-size: 0.9rem;
				}

				p {
					font-size: 0.8rem;
				}
			}
		}
	}
}

/* Mobile navigation improvements */
@include breakpoint('<=medium') {
	#nav {
		ul {
			li {
				a {
					padding: 0.75rem 1rem;
					font-size: 0.9rem;
				}

				> ul {
					li {
						a {
							padding: 0.5rem 1rem;
							font-size: 0.85rem;
						}
					}
				}
			}
		}
	}
}

/* Image responsive improvements */
.image {
	&.fit {
		img {
			width: 100%;
			height: auto;
			object-fit: cover;
		}
	}

	@include breakpoint('<=small') {
		&.fit {
			img {
				max-height: 15rem;
				object-position: center;
			}
		}
	}

	@include breakpoint('<=xsmall') {
		&.fit {
			img {
				max-height: 12rem;
			}
		}
	}
}

/* Table responsive improvements */
.table-wrapper {
	@include breakpoint('<=small') {
		overflow-x: auto;
		-webkit-overflow-scrolling: touch;

		table {
			min-width: 20rem;
			font-size: 0.85rem;

			td {
				padding: 0.5rem 0.75rem;
				
				strong {
					display: block;
					color: _palette(accent1, bg);
					font-size: 1.1em;
					margin-bottom: 0.25rem;
				}
			}
		}
	}

	@include breakpoint('<=xsmall') {
		table {
			font-size: 0.8rem;
			
			td {
				padding: 0.4rem 0.5rem;
			}
		}
	}
}

/* Header responsive improvements */
@include breakpoint('<=medium') {
	#header {
		.logo {
			a {
				font-size: 1.25rem;
				
				.extra {
					font-size: 0.9rem;
				}
			}
		}
	}
}

@include breakpoint('<=small') {
	#header {
		.logo {
			a {
				font-size: 1.1rem;
				
				.extra {
					font-size: 0.8rem;
					display: block;
					margin-top: 0.25rem;
				}
			}
		}
	}
}

/* Actions buttons responsive */
.actions {
	&.special {
		@include breakpoint('<=medium') {
			@include vendor('justify-content', 'center');
			
			li {
				margin: 0.5rem 0.25rem;

				.button {
					font-size: 0.9rem;
					padding: 0.75rem 1.5rem;
					white-space: nowrap;
					
					&.large {
						font-size: 1rem;
						padding: 1rem 2rem;
					}
					
					i.fab {
						margin-right: 0.5rem; // Προσθέτω χώρο μεταξύ του εικονιδίου WhatsApp και του κειμένου
					}
				}
			}
		}

		@include breakpoint('<=small') {
			flex-direction: column;
			align-items: center;

			li {
				margin: 0.25rem 0;
				width: 100%;
				max-width: 20rem;

				.button {
					width: 100%;
					font-size: 0.85rem;
					padding: 0.875rem 0.5rem;
					white-space: nowrap;
					display: flex;
					justify-content: center; // Κεντράρει το κείμενο και τα εικονίδια οριζόντια
					align-items: center; // Κεντράρει κάθετα

					i.fab {
						display: inline-flex; // Καλύτερη εμφάνιση εικονιδίου
						align-items: center;
						margin-right: 0.5rem;
					}

					&.large {
						font-size: 0.9rem;
						padding: 1rem 0.75rem;
						display: flex;
						align-items: center;
						justify-content: center;
					}
				}
			}
		}
		
		@include breakpoint('<=xsmall') {
			li {
				max-width: 18rem;
				
				.button {
					font-size: 0.8rem;
					padding: 0.8rem 0.4rem;
				}
			}
		}
	}
}

/* Banner video responsive */
#banner {
	video {
		@include breakpoint('<=medium') {
			object-position: center center;
		}

		@include breakpoint('<=small') {
			object-position: 75% center;
		}
	}
}

/* Tabs responsive improvements */
.tabs {
	@include breakpoint('<=small') {
		> .titles {
			> .title {
				padding: 0 0.75rem;
				font-size: 0.8rem;

				.extra {
					display: none !important;
				}
			}
		}

		> .panels {
			> .panel {
				.spotlight {
					> ul {
						margin-bottom: 1rem;
					}
				}
			}
		}
	}

	@include breakpoint('<=xsmall') {
		> .titles {
			flex-wrap: wrap;
			
			> .title {
				flex: 1 1 50%;
				min-width: 50%;
				padding: 0 0.5rem;
				font-size: 0.75rem;
			}
		}
	}
}

/* WhatsApp Button Mobile Optimizations */
.button {
	.fa-whatsapp {
		margin-right: 0.5rem;
	}

	@include breakpoint('<=small') {
		&[href*="wa.me"] {
			background-color: #25D366 !important; // WhatsApp brand color
			color: #ffffff !important;
			border-color: #25D366 !important;
			
			&:hover {
				background-color: darken(#25D366, 10%) !important;
				border-color: darken(#25D366, 10%) !important;
			}
			
			.fa-whatsapp {
				display: inline-block;
				margin-right: 0.3rem;
			}
		}
	}
}

/* Section #four specific styles - Contact section with horizontal layout */
#four {
	// Features section - ensure single row layout
	.features {
		display: flex;
		flex-wrap: nowrap;
		gap: 1rem;
		justify-content: space-between;
		
		> section {
			flex: 1;
			min-width: 0;
			margin: 0;
			padding: 1rem;
		}
		
		@include breakpoint('<=large') {
			gap: 0.75rem;
			
			> section {
				padding: 0.875rem;
			}
		}
		
		@include breakpoint('<=medium') {
			flex-wrap: wrap;
			gap: 1rem;
			
			> section {
				flex: 1 1 calc(50% - 0.5rem);
				max-width: calc(50% - 0.5rem);
			}
		}
		
		@include breakpoint('<=small') {
			flex-direction: column;
			
			> section {
				flex: none;
				width: 100%;
				max-width: none;
			}
		}
	}
	
	// Posts.alt - horizontal layout for contact articles
	.posts.alt {
		> * {
			width: 100%;
			padding: 0;
		}
		
		> :nth-child(2n + 1),
		> :nth-child(2n) {
			width: 100%;
			padding: 0;
		}
		
		> article {
			display: flex;
			flex-direction: row;
			align-items: stretch;
			padding: 0;
			
			> .image {
				width: 40%;
				flex-shrink: 0;
				margin: 0;
				padding: 0;
				
				img {
					width: 100%;
					height: 100%;
					object-fit: cover;
					display: block;
				}
			}
			
			> .content {
				width: 60%;
				flex: 1;
				padding: 1.5rem;
				margin: 0;
				display: flex;
				flex-direction: column;
				justify-content: flex-start;
			}
			
			@include breakpoint('<=large') {
				> .image {
					width: 35%;
				}
				
				> .content {
					width: 65%;
					padding: 1.25rem;
				}
			}
			
			@include breakpoint('<=medium') {
				flex-direction: column;
				
				> .image {
					width: 100%;
					height: 200px;
				}
				
				> .content {
					width: 100%;
					padding: 1rem;
				}
			}
			
			@include breakpoint('<=small') {
				> .content {
					padding: 0.75rem;
				}
			}
		}
	}
}

/* Hide map buttons specifically */
.button[href*="maps.google"] {
	display: none !important;
}

/* Article spacing fixes for equal borders */
#four .posts.alt > article {
	// Fix padding/spacing issues - ensure equal borders around images
	> .image {
		margin: 0;
		padding: 0;
		
		img {
			margin: 0;
			padding: 0;
			border: none;
			border-radius: 0;
		}
	}
	
	> .content {
		// Ensure equal padding on all sides for content
		padding: 1.5rem !important;
		margin: 0;
		
		@include breakpoint('<=large') {
			padding: 1.25rem !important;
		}
		
		@include breakpoint('<=medium') {
			padding: 1rem !important;
		}
		
		@include breakpoint('<=small') {
			padding: 0.75rem !important;
		}
	}
}

/* Global button text contrast fixes */
.button {
	// Ensure all button text is visible regardless of context
	&.primary {
		color: white !important;
		
		&:hover {
			color: white !important;
		}
	}
	
	&:not(.primary) {
		color: _palette(accent1, bg) !important;
		
		&:hover {
			color: white !important;
		}
	}
}

/* Fix white icons in all contexts */
.icon.major {
	// Force accent color for better visibility
	color: _palette(accent1, bg) !important;
	
	// Add background for better contrast if needed
	&.fa-phone, &.fa-map-marker-alt, &.fa-clock, &.fa-envelope {
		background-color: rgba(_palette(accent1, bg), 0.1);
		border-radius: 50%;
		width: 3rem;
		height: 3rem;
		line-height: 3rem;
		display: inline-flex !important;
		align-items: center;
		justify-content: center;
	}
}

/* Accent1 sections - proper color overrides for visibility */
#wrapper > .main.accent1 {
	// Override the default white text on blue background for content areas
	.inner {
		// Make sure content text is visible
		color: _palette(fg);
		
		h1, h2, h3, h4, h5, h6 {
			color: _palette(fg-bold);
		}
		
		p, li {
			color: _palette(fg);
		}
		
		strong, b {
			color: _palette(fg-bold);
		}
	}
	
	// Posts.alt specific fixes for accent1 sections
	.posts.alt {
		> article {
			background-color: _palette(bg);
			
			> .content {
				color: _palette(fg);
				
				h3 {
					color: _palette(fg-bold);
				}
				
				h4 {
					color: _palette(accent1, bg);
				}
				
				p, li {
					color: _palette(fg);
				}
				
				strong, b {
					color: _palette(fg-bold);
				}
				
				.button {
					// Ensure proper contrast for all buttons
					&.primary {
						background-color: _palette(accent1, bg);
						color: _palette(bg) !important;
						border-color: _palette(accent1, bg);
						
						&:hover {
							background-color: darken(_palette(accent1, bg), 15%);
							color: _palette(bg) !important;
						}
					}
					
					&:not(.primary) {
						background-color: _palette(bg);
						color: _palette(accent1, bg) !important;
						border-color: _palette(accent1, bg);
						
						&:hover {
							background-color: _palette(accent1, bg);
							color: _palette(bg) !important;
						}
					}
				}
			}
		}
	}
	
	// Features section fixes for accent1
	.features {
		> section {
			background-color: _palette(bg);
			
			h3 {
				color: _palette(fg-bold);
			}
			
			p {
				color: _palette(fg);
			}
			
			.icon.major {
				color: _palette(accent1, bg) !important;
				// Fix white icon visibility issue
				background-color: rgba(_palette(accent1, bg), 0.1);
				border-radius: 50%;
				width: 4rem;
				height: 4rem;
				line-height: 4rem;
				display: flex !important;
				align-items: center;
				justify-content: center;
			}
		}
	}
}
